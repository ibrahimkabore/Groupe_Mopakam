{
    "sourceFile": "mopakam/settings.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1741684985144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741685783361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,4 +211,9 @@\n OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')\n \n CSRF_COOKIE_SECURE = True\n SESSION_COOKIE_SECURE = True\n+\n+\n+CSRF_TRUSTED_ORIGINS = [\n+    'https://pyuxkpmt4s94.share.zrok.io',  # Add this line\n+]\n"
                },
                {
                    "date": 1741687460577,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,4 +216,39 @@\n \n CSRF_TRUSTED_ORIGINS = [\n     'https://pyuxkpmt4s94.share.zrok.io',  # Add this line\n ]\n+LOGGING = {\n+    'version': 1,\n+    'disable_existing_loggers': False,\n+    'formatters': {\n+        'verbose': {\n+            'format': '%(levelname)s %(asctime)s %(module)s %(process)d %(thread)d %(message)s'\n+        },\n+        'simple': {\n+            'format': '%(levelname)s %(message)s'\n+        },\n+    },\n+    'handlers': {\n+        'console': {\n+            'class': 'logging.StreamHandler',\n+            'formatter': 'simple'\n+        },\n+        'file': {\n+            'class': 'logging.FileHandler',\n+            'filename': 'mopakam.log',\n+            'formatter': 'verbose'\n+        },\n+    },\n+    'loggers': {\n+        'django': {\n+            'handlers': ['console', 'file'],\n+            'level': 'INFO',\n+            'propagate': True,\n+        },\n+        'app_mopakam': {\n+            'handlers': ['console', 'file'],\n+            'level': 'DEBUG',\n+            'propagate': True,\n+        },\n+    },\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741688038320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n # SECURITY WARNING: keep the secret key used in production secret!\n SECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n \n # SECURITY WARNING: don't run with debug turned on in production!\n-DEBUG = True\n+DEBUG = False\n \n ALLOWED_HOSTS = [\"*\"]\n AUTH_USER_MODEL = 'app_mopakam.CustomUser'\n AUTHENTICATION_BACKENDS = [\n@@ -164,9 +164,9 @@\n # Static files (CSS, JavaScript, Images)\n # https://docs.djangoproject.com/en/5.1/howto/static-files/\n \n STATIC_URL = '/static/'\n-STATIC_ROOT=os.path.join(BASE_DIR, 'staticfiles')\n+STATIC_ROOT=os.path.join(BASE_DIR, 'static')\n STATICFILES_DIRS = [\n     BASE_DIR / \"static\",\n ]\n \n"
                },
                {
                    "date": 1741688143159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,254 @@\n+\"\"\"\n+Django settings for mopakam project.\n+\n+Generated by 'django-admin startproject' using Django 5.1.6.\n+\n+For more information on this file, see\n+https://docs.djangoproject.com/en/5.1/topics/settings/\n+\n+For the full list of settings and their values, see\n+https://docs.djangoproject.com/en/5.1/ref/settings/\n+\"\"\"\n+\n+######################    start date 20/02/2025 ############################\n+from logging import config\n+import os\n+from pathlib import Path\n+from django.contrib.messages import constants as messages\n+from django.utils.translation import gettext_lazy as _\n+from decouple import config\n+\n+# Build paths inside the project like this: BASE_DIR / 'subdir'.\n+BASE_DIR = Path(__file__).resolve().parent.parent\n+\n+\n+# Quick-start development settings - unsuitable for production\n+# See https://docs.djangoproject.com/en/5.1/howto/deployment/checklist/\n+\n+# SECURITY WARNING: keep the secret key used in production secret!\n+SECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n+\n+# SECURITY WARNING: don't run with debug turned on in production!\n+DEBUG = False\n+\n+ALLOWED_HOSTS = [\"*\"]\n+AUTH_USER_MODEL = 'app_mopakam.CustomUser'\n+AUTHENTICATION_BACKENDS = [\n+    'django.contrib.auth.backends.ModelBackend',  # par défaut\n+    'app_mopakam.auth_backends.EmailOrUsernameModelBackend',  # notre backend personnalisé\n+]\n+\n+# Application definition\n+\n+INSTALLED_APPS = [\n+    \"django.contrib.admin\",\n+    \"django.contrib.auth\",\n+    \"django.contrib.contenttypes\",\n+    \"django.contrib.sessions\",\n+    \"django.contrib.messages\",\n+    \"django.contrib.staticfiles\",\n+    'app_mopakam',\n+    'safedelete',\n+    'django.contrib.sitemaps',\n+    'django.contrib.humanize',\n+    'django_otp',\n+    'django_otp.plugins.otp_static',\n+    'django_otp.plugins.otp_totp',\n+    'two_factor',\n+    \"crispy_forms\",\n+    'corsheaders',\n+ \n+]\n+\n+\n+CRISPY_TEMPLATE_PACK = 'bootstrap4'\n+CRISPY_CLASS_CONVERTERS = {\n+    'file': 'form-control-file',\n+}\n+MIDDLEWARE = [\n+    'corsheaders.middleware.CorsMiddleware',\n+    \"django.middleware.security.SecurityMiddleware\",\n+    'django.middleware.locale.LocaleMiddleware',\n+    \"django.contrib.sessions.middleware.SessionMiddleware\",\n+    \"django.middleware.common.CommonMiddleware\",\n+    \"django.middleware.csrf.CsrfViewMiddleware\",\n+    'django_otp.middleware.OTPMiddleware',\n+    \"django.contrib.auth.middleware.AuthenticationMiddleware\",\n+    \"django.contrib.messages.middleware.MessageMiddleware\",\n+    \"django.middleware.clickjacking.XFrameOptionsMiddleware\",\n+    \n+]\n+\n+ROOT_URLCONF = \"mopakam.urls\"\n+\n+TEMPLATES = [\n+    {\n+        \"BACKEND\": \"django.template.backends.django.DjangoTemplates\",\n+        \"DIRS\": [\n+            os.path.join(BASE_DIR, 'app/templates'),\n+            os.path.join(BASE_DIR, 'etl/templates'),\n+            os.path.join(BASE_DIR, 'templates'),\n+            ],\n+        \"APP_DIRS\": True,\n+        \"OPTIONS\": {\n+            \"context_processors\": [\n+                \"django.template.context_processors.debug\",\n+                \"django.template.context_processors.request\",\n+                \"django.contrib.auth.context_processors.auth\",\n+                \"django.contrib.messages.context_processors.messages\",\n+                \"app_mopakam.context_processors.cart_count\",\n+              ],\n+        },\n+    },\n+]\n+\n+WSGI_APPLICATION = \"mopakam.wsgi.application\"\n+\n+\n+# Database\n+# https://docs.djangoproject.com/en/5.1/ref/settings/#databases\n+\n+DATABASES = {\n+    'default': {\n+        'ENGINE': 'django.db.backends.postgresql_psycopg2',\n+        'NAME':config('DB_NAME',),\n+        'USER':  config('DB_USER',),\n+        'PASSWORD':config('DB_PASSWORD',),\n+        'HOST': config('DB_HOST'),  # ou l'adresse IP de votre serveur PostgreSQL\n+        'PORT': '5432',\n+    },\n+}\n+\n+\n+\n+# Password validation\n+# https://docs.djangoproject.com/en/5.1/ref/settings/#auth-password-validators\n+\n+AUTH_PASSWORD_VALIDATORS = [\n+    {\n+        \"NAME\": \"django.contrib.auth.password_validation.UserAttributeSimilarityValidator\",\n+    },\n+    {\n+        \"NAME\": \"django.contrib.auth.password_validation.MinimumLengthValidator\",\n+    },\n+    {\n+        \"NAME\": \"django.contrib.auth.password_validation.CommonPasswordValidator\",\n+    },\n+    {\n+        \"NAME\": \"django.contrib.auth.password_validation.NumericPasswordValidator\",\n+    },\n+]\n+\n+\n+# Internationalization\n+# https://docs.djangoproject.com/en/5.1/topics/i18n/\n+\n+LANGUAGE_CODE = 'fr'\n+LANGUAGES = [\n+    ('fr', _('francais')),\n+    ('en', _('English')),\n+]\n+\n+\n+\n+LOCALE_PATHS = (\n+    os.path.join(BASE_DIR, 'locale'),\n+)\n+TIME_ZONE = 'UTC'\n+\n+USE_I18N = True\n+\n+USE_TZ = True\n+\n+\n+# Static files (CSS, JavaScript, Images)\n+# https://docs.djangoproject.com/en/5.1/howto/static-files/\n+\n+STATIC_URL = '/static/'\n+STATIC_ROOT=os.path.join(BASE_DIR, 'staticfiles')\n+STATICFILES_DIRS = [\n+    BASE_DIR / \"static\",\n+]\n+\n+MEDIA_URL = 'medias/'\n+MEDIA_ROOT = os.path.join(BASE_DIR, 'medias')\n+\n+# Default primary key field type\n+# https://docs.djangoproject.com/en/5.1/ref/settings/#default-auto-field\n+\n+DEFAULT_AUTO_FIELD = \"django.db.models.BigAutoField\"\n+\n+\n+ \n+\n+#configuration SMTP\n+EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'\n+EMAIL_HOST = 'smtp.gmail.com'\n+EMAIL_PORT = 587\n+EMAIL_USE_TLS = True\n+EMAIL_HOST_USER = 'ibrahim.kabore.hsg@gmail.com'  # Replace with your Gmail address\n+EMAIL_HOST_PASSWORD = 'hrrr tffl ggzq qtrn'\n+\n+### MESSAGE D'ALERT\n+\n+MESSAGE_TAGS = {\n+    messages.DEBUG: 'alert-secondary',\n+    messages.INFO: 'alert-info',\n+    messages.SUCCESS: 'alert-success',\n+    messages.WARNING: 'alert-warning',\n+    messages.ERROR: 'alert-danger',\n+}\n+\n+\n+import os\n+\n+# # Paramètres CinetPay\n+# CINETPAY_API_KEY = os.getenv('191723936667c0d7c0d48656.82804730')\n+# CINETPAY_SITE_ID = os.getenv('105888863')\n+# CINETPAY_RETURN_URL = os.getenv('CINETPAY_RETURN_URL', 'https://votredomaine.com/payment-callback')\n+# CINETPAY_NOTIFY_URL = os.getenv('CINETPAY_NOTIFY_URL', 'https://votredomaine.com/payment-notification')\n+\n+OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')\n+\n+CSRF_COOKIE_SECURE = True\n+SESSION_COOKIE_SECURE = True\n+\n+\n+CSRF_TRUSTED_ORIGINS = [\n+    'https://pyuxkpmt4s94.share.zrok.io',  # Add this line\n+]\n+LOGGING = {\n+    'version': 1,\n+    'disable_existing_loggers': False,\n+    'formatters': {\n+        'verbose': {\n+            'format': '%(levelname)s %(asctime)s %(module)s %(process)d %(thread)d %(message)s'\n+        },\n+        'simple': {\n+            'format': '%(levelname)s %(message)s'\n+        },\n+    },\n+    'handlers': {\n+        'console': {\n+            'class': 'logging.StreamHandler',\n+            'formatter': 'simple'\n+        },\n+        'file': {\n+            'class': 'logging.FileHandler',\n+            'filename': 'mopakam.log',\n+            'formatter': 'verbose'\n+        },\n+    },\n+    'loggers': {\n+        'django': {\n+            'handlers': ['console', 'file'],\n+            'level': 'INFO',\n+            'propagate': True,\n+        },\n+        'app_mopakam': {\n+            'handlers': ['console', 'file'],\n+            'level': 'DEBUG',\n+            'propagate': True,\n+        },\n+    },\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741688288138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,14 +163,19 @@\n \n # Static files (CSS, JavaScript, Images)\n # https://docs.djangoproject.com/en/5.1/howto/static-files/\n \n-STATIC_URL = '/static/'\n-STATIC_ROOT=os.path.join(BASE_DIR, 'staticfiles')\n+STATIC_URL = '/static/'  # URL pour accéder aux fichiers statiques\n+\n+# Emplacement des fichiers statiques dans le projet\n STATICFILES_DIRS = [\n-    BASE_DIR / \"static\",\n+    os.path.join(BASE_DIR, 'static'),\n ]\n \n+# Dossier où Django collectera tous les fichiers statiques lors de la mise en production\n+STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\n+\n+# Dossier où Django stockera les fichiers téléchargés\n MEDIA_URL = 'medias/'\n MEDIA_ROOT = os.path.join(BASE_DIR, 'medias')\n \n # Default primary key field type\n"
                },
                {
                    "date": 1741688387368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n # SECURITY WARNING: keep the secret key used in production secret!\n SECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n \n # SECURITY WARNING: don't run with debug turned on in production!\n-DEBUG = False\n+DEBUG = True\n \n ALLOWED_HOSTS = [\"*\"]\n AUTH_USER_MODEL = 'app_mopakam.CustomUser'\n AUTHENTICATION_BACKENDS = [\n"
                },
                {
                    "date": 1741688411873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n # SECURITY WARNING: keep the secret key used in production secret!\n SECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n \n # SECURITY WARNING: don't run with debug turned on in production!\n-DEBUG = True\n+DEBUG = False\n \n ALLOWED_HOSTS = [\"*\"]\n AUTH_USER_MODEL = 'app_mopakam.CustomUser'\n AUTHENTICATION_BACKENDS = [\n@@ -255,259 +255,5 @@\n             'level': 'DEBUG',\n             'propagate': True,\n         },\n     },\n-}\n-\"\"\"\n-Django settings for mopakam project.\n-\n-Generated by 'django-admin startproject' using Django 5.1.6.\n-\n-For more information on this file, see\n-https://docs.djangoproject.com/en/5.1/topics/settings/\n-\n-For the full list of settings and their values, see\n-https://docs.djangoproject.com/en/5.1/ref/settings/\n-\"\"\"\n-\n-######################    start date 20/02/2025 ############################\n-from logging import config\n-import os\n-from pathlib import Path\n-from django.contrib.messages import constants as messages\n-from django.utils.translation import gettext_lazy as _\n-from decouple import config\n-\n-# Build paths inside the project like this: BASE_DIR / 'subdir'.\n-BASE_DIR = Path(__file__).resolve().parent.parent\n-\n-\n-# Quick-start development settings - unsuitable for production\n-# See https://docs.djangoproject.com/en/5.1/howto/deployment/checklist/\n-\n-# SECURITY WARNING: keep the secret key used in production secret!\n-SECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n-\n-# SECURITY WARNING: don't run with debug turned on in production!\n-DEBUG = False\n-\n-ALLOWED_HOSTS = [\"*\"]\n-AUTH_USER_MODEL = 'app_mopakam.CustomUser'\n-AUTHENTICATION_BACKENDS = [\n-    'django.contrib.auth.backends.ModelBackend',  # par défaut\n-    'app_mopakam.auth_backends.EmailOrUsernameModelBackend',  # notre backend personnalisé\n-]\n-\n-# Application definition\n-\n-INSTALLED_APPS = [\n-    \"django.contrib.admin\",\n-    \"django.contrib.auth\",\n-    \"django.contrib.contenttypes\",\n-    \"django.contrib.sessions\",\n-    \"django.contrib.messages\",\n-    \"django.contrib.staticfiles\",\n-    'app_mopakam',\n-    'safedelete',\n-    'django.contrib.sitemaps',\n-    'django.contrib.humanize',\n-    'django_otp',\n-    'django_otp.plugins.otp_static',\n-    'django_otp.plugins.otp_totp',\n-    'two_factor',\n-    \"crispy_forms\",\n-    'corsheaders',\n- \n-]\n-\n-\n-CRISPY_TEMPLATE_PACK = 'bootstrap4'\n-CRISPY_CLASS_CONVERTERS = {\n-    'file': 'form-control-file',\n-}\n-MIDDLEWARE = [\n-    'corsheaders.middleware.CorsMiddleware',\n-    \"django.middleware.security.SecurityMiddleware\",\n-    'django.middleware.locale.LocaleMiddleware',\n-    \"django.contrib.sessions.middleware.SessionMiddleware\",\n-    \"django.middleware.common.CommonMiddleware\",\n-    \"django.middleware.csrf.CsrfViewMiddleware\",\n-    'django_otp.middleware.OTPMiddleware',\n-    \"django.contrib.auth.middleware.AuthenticationMiddleware\",\n-    \"django.contrib.messages.middleware.MessageMiddleware\",\n-    \"django.middleware.clickjacking.XFrameOptionsMiddleware\",\n-    \n-]\n-\n-ROOT_URLCONF = \"mopakam.urls\"\n-\n-TEMPLATES = [\n-    {\n-        \"BACKEND\": \"django.template.backends.django.DjangoTemplates\",\n-        \"DIRS\": [\n-            os.path.join(BASE_DIR, 'app/templates'),\n-            os.path.join(BASE_DIR, 'etl/templates'),\n-            os.path.join(BASE_DIR, 'templates'),\n-            ],\n-        \"APP_DIRS\": True,\n-        \"OPTIONS\": {\n-            \"context_processors\": [\n-                \"django.template.context_processors.debug\",\n-                \"django.template.context_processors.request\",\n-                \"django.contrib.auth.context_processors.auth\",\n-                \"django.contrib.messages.context_processors.messages\",\n-                \"app_mopakam.context_processors.cart_count\",\n-              ],\n-        },\n-    },\n-]\n-\n-WSGI_APPLICATION = \"mopakam.wsgi.application\"\n-\n-\n-# Database\n-# https://docs.djangoproject.com/en/5.1/ref/settings/#databases\n-\n-DATABASES = {\n-    'default': {\n-        'ENGINE': 'django.db.backends.postgresql_psycopg2',\n-        'NAME':config('DB_NAME',),\n-        'USER':  config('DB_USER',),\n-        'PASSWORD':config('DB_PASSWORD',),\n-        'HOST': config('DB_HOST'),  # ou l'adresse IP de votre serveur PostgreSQL\n-        'PORT': '5432',\n-    },\n-}\n-\n-\n-\n-# Password validation\n-# https://docs.djangoproject.com/en/5.1/ref/settings/#auth-password-validators\n-\n-AUTH_PASSWORD_VALIDATORS = [\n-    {\n-        \"NAME\": \"django.contrib.auth.password_validation.UserAttributeSimilarityValidator\",\n-    },\n-    {\n-        \"NAME\": \"django.contrib.auth.password_validation.MinimumLengthValidator\",\n-    },\n-    {\n-        \"NAME\": \"django.contrib.auth.password_validation.CommonPasswordValidator\",\n-    },\n-    {\n-        \"NAME\": \"django.contrib.auth.password_validation.NumericPasswordValidator\",\n-    },\n-]\n-\n-\n-# Internationalization\n-# https://docs.djangoproject.com/en/5.1/topics/i18n/\n-\n-LANGUAGE_CODE = 'fr'\n-LANGUAGES = [\n-    ('fr', _('francais')),\n-    ('en', _('English')),\n-]\n-\n-\n-\n-LOCALE_PATHS = (\n-    os.path.join(BASE_DIR, 'locale'),\n-)\n-TIME_ZONE = 'UTC'\n-\n-USE_I18N = True\n-\n-USE_TZ = True\n-\n-\n-# Static files (CSS, JavaScript, Images)\n-# https://docs.djangoproject.com/en/5.1/howto/static-files/\n-\n-STATIC_URL = '/static/'\n-STATIC_ROOT=os.path.join(BASE_DIR, 'static')\n-STATICFILES_DIRS = [\n-    BASE_DIR / \"static\",\n-]\n-\n-MEDIA_URL = 'medias/'\n-MEDIA_ROOT = os.path.join(BASE_DIR, 'medias')\n-\n-# Default primary key field type\n-# https://docs.djangoproject.com/en/5.1/ref/settings/#default-auto-field\n-\n-DEFAULT_AUTO_FIELD = \"django.db.models.BigAutoField\"\n-\n-\n- \n-\n-#configuration SMTP\n-EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'\n-EMAIL_HOST = 'smtp.gmail.com'\n-EMAIL_PORT = 587\n-EMAIL_USE_TLS = True\n-EMAIL_HOST_USER = 'ibrahim.kabore.hsg@gmail.com'  # Replace with your Gmail address\n-EMAIL_HOST_PASSWORD = 'hrrr tffl ggzq qtrn'\n-\n-### MESSAGE D'ALERT\n-\n-MESSAGE_TAGS = {\n-    messages.DEBUG: 'alert-secondary',\n-    messages.INFO: 'alert-info',\n-    messages.SUCCESS: 'alert-success',\n-    messages.WARNING: 'alert-warning',\n-    messages.ERROR: 'alert-danger',\n-}\n-\n-\n-import os\n-\n-# # Paramètres CinetPay\n-# CINETPAY_API_KEY = os.getenv('191723936667c0d7c0d48656.82804730')\n-# CINETPAY_SITE_ID = os.getenv('105888863')\n-# CINETPAY_RETURN_URL = os.getenv('CINETPAY_RETURN_URL', 'https://votredomaine.com/payment-callback')\n-# CINETPAY_NOTIFY_URL = os.getenv('CINETPAY_NOTIFY_URL', 'https://votredomaine.com/payment-notification')\n-\n-OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')\n-\n-CSRF_COOKIE_SECURE = True\n-SESSION_COOKIE_SECURE = True\n-\n-\n-CSRF_TRUSTED_ORIGINS = [\n-    'https://pyuxkpmt4s94.share.zrok.io',  # Add this line\n-]\n-LOGGING = {\n-    'version': 1,\n-    'disable_existing_loggers': False,\n-    'formatters': {\n-        'verbose': {\n-            'format': '%(levelname)s %(asctime)s %(module)s %(process)d %(thread)d %(message)s'\n-        },\n-        'simple': {\n-            'format': '%(levelname)s %(message)s'\n-        },\n-    },\n-    'handlers': {\n-        'console': {\n-            'class': 'logging.StreamHandler',\n-            'formatter': 'simple'\n-        },\n-        'file': {\n-            'class': 'logging.FileHandler',\n-            'filename': 'mopakam.log',\n-            'formatter': 'verbose'\n-        },\n-    },\n-    'loggers': {\n-        'django': {\n-            'handlers': ['console', 'file'],\n-            'level': 'INFO',\n-            'propagate': True,\n-        },\n-        'app_mopakam': {\n-            'handlers': ['console', 'file'],\n-            'level': 'DEBUG',\n-            'propagate': True,\n-        },\n-    },\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1741688844596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n # SECURITY WARNING: keep the secret key used in production secret!\n SECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n \n # SECURITY WARNING: don't run with debug turned on in production!\n-DEBUG = False\n+DEBUG = True\n \n ALLOWED_HOSTS = [\"*\"]\n AUTH_USER_MODEL = 'app_mopakam.CustomUser'\n AUTHENTICATION_BACKENDS = [\n"
                }
            ],
            "date": 1741684985144,
            "name": "Commit-0",
            "content": "\"\"\"\nDjango settings for mopakam project.\n\nGenerated by 'django-admin startproject' using Django 5.1.6.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/5.1/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/5.1/ref/settings/\n\"\"\"\n\n######################    start date 20/02/2025 ############################\nfrom logging import config\nimport os\nfrom pathlib import Path\nfrom django.contrib.messages import constants as messages\nfrom django.utils.translation import gettext_lazy as _\nfrom decouple import config\n\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\nBASE_DIR = Path(__file__).resolve().parent.parent\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/5.1/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = \"django-insecure-r-6a#&zr7v=2dxr=1(4^nlv(0$f)ne^%m7x-96y_s6w-%sv%lu\"\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = [\"*\"]\nAUTH_USER_MODEL = 'app_mopakam.CustomUser'\nAUTHENTICATION_BACKENDS = [\n    'django.contrib.auth.backends.ModelBackend',  # par défaut\n    'app_mopakam.auth_backends.EmailOrUsernameModelBackend',  # notre backend personnalisé\n]\n\n# Application definition\n\nINSTALLED_APPS = [\n    \"django.contrib.admin\",\n    \"django.contrib.auth\",\n    \"django.contrib.contenttypes\",\n    \"django.contrib.sessions\",\n    \"django.contrib.messages\",\n    \"django.contrib.staticfiles\",\n    'app_mopakam',\n    'safedelete',\n    'django.contrib.sitemaps',\n    'django.contrib.humanize',\n    'django_otp',\n    'django_otp.plugins.otp_static',\n    'django_otp.plugins.otp_totp',\n    'two_factor',\n    \"crispy_forms\",\n    'corsheaders',\n \n]\n\n\nCRISPY_TEMPLATE_PACK = 'bootstrap4'\nCRISPY_CLASS_CONVERTERS = {\n    'file': 'form-control-file',\n}\nMIDDLEWARE = [\n    'corsheaders.middleware.CorsMiddleware',\n    \"django.middleware.security.SecurityMiddleware\",\n    'django.middleware.locale.LocaleMiddleware',\n    \"django.contrib.sessions.middleware.SessionMiddleware\",\n    \"django.middleware.common.CommonMiddleware\",\n    \"django.middleware.csrf.CsrfViewMiddleware\",\n    'django_otp.middleware.OTPMiddleware',\n    \"django.contrib.auth.middleware.AuthenticationMiddleware\",\n    \"django.contrib.messages.middleware.MessageMiddleware\",\n    \"django.middleware.clickjacking.XFrameOptionsMiddleware\",\n    \n]\n\nROOT_URLCONF = \"mopakam.urls\"\n\nTEMPLATES = [\n    {\n        \"BACKEND\": \"django.template.backends.django.DjangoTemplates\",\n        \"DIRS\": [\n            os.path.join(BASE_DIR, 'app/templates'),\n            os.path.join(BASE_DIR, 'etl/templates'),\n            os.path.join(BASE_DIR, 'templates'),\n            ],\n        \"APP_DIRS\": True,\n        \"OPTIONS\": {\n            \"context_processors\": [\n                \"django.template.context_processors.debug\",\n                \"django.template.context_processors.request\",\n                \"django.contrib.auth.context_processors.auth\",\n                \"django.contrib.messages.context_processors.messages\",\n                \"app_mopakam.context_processors.cart_count\",\n              ],\n        },\n    },\n]\n\nWSGI_APPLICATION = \"mopakam.wsgi.application\"\n\n\n# Database\n# https://docs.djangoproject.com/en/5.1/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql_psycopg2',\n        'NAME':config('DB_NAME',),\n        'USER':  config('DB_USER',),\n        'PASSWORD':config('DB_PASSWORD',),\n        'HOST': config('DB_HOST'),  # ou l'adresse IP de votre serveur PostgreSQL\n        'PORT': '5432',\n    },\n}\n\n\n\n# Password validation\n# https://docs.djangoproject.com/en/5.1/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        \"NAME\": \"django.contrib.auth.password_validation.UserAttributeSimilarityValidator\",\n    },\n    {\n        \"NAME\": \"django.contrib.auth.password_validation.MinimumLengthValidator\",\n    },\n    {\n        \"NAME\": \"django.contrib.auth.password_validation.CommonPasswordValidator\",\n    },\n    {\n        \"NAME\": \"django.contrib.auth.password_validation.NumericPasswordValidator\",\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/5.1/topics/i18n/\n\nLANGUAGE_CODE = 'fr'\nLANGUAGES = [\n    ('fr', _('francais')),\n    ('en', _('English')),\n]\n\n\n\nLOCALE_PATHS = (\n    os.path.join(BASE_DIR, 'locale'),\n)\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/5.1/howto/static-files/\n\nSTATIC_URL = '/static/'\nSTATIC_ROOT=os.path.join(BASE_DIR, 'staticfiles')\nSTATICFILES_DIRS = [\n    BASE_DIR / \"static\",\n]\n\nMEDIA_URL = 'medias/'\nMEDIA_ROOT = os.path.join(BASE_DIR, 'medias')\n\n# Default primary key field type\n# https://docs.djangoproject.com/en/5.1/ref/settings/#default-auto-field\n\nDEFAULT_AUTO_FIELD = \"django.db.models.BigAutoField\"\n\n\n \n\n#configuration SMTP\nEMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'\nEMAIL_HOST = 'smtp.gmail.com'\nEMAIL_PORT = 587\nEMAIL_USE_TLS = True\nEMAIL_HOST_USER = 'ibrahim.kabore.hsg@gmail.com'  # Replace with your Gmail address\nEMAIL_HOST_PASSWORD = 'hrrr tffl ggzq qtrn'\n\n### MESSAGE D'ALERT\n\nMESSAGE_TAGS = {\n    messages.DEBUG: 'alert-secondary',\n    messages.INFO: 'alert-info',\n    messages.SUCCESS: 'alert-success',\n    messages.WARNING: 'alert-warning',\n    messages.ERROR: 'alert-danger',\n}\n\n\nimport os\n\n# # Paramètres CinetPay\n# CINETPAY_API_KEY = os.getenv('191723936667c0d7c0d48656.82804730')\n# CINETPAY_SITE_ID = os.getenv('105888863')\n# CINETPAY_RETURN_URL = os.getenv('CINETPAY_RETURN_URL', 'https://votredomaine.com/payment-callback')\n# CINETPAY_NOTIFY_URL = os.getenv('CINETPAY_NOTIFY_URL', 'https://votredomaine.com/payment-notification')\n\nOPENAI_API_KEY = os.getenv('OPENAI_API_KEY')\n\nCSRF_COOKIE_SECURE = True\nSESSION_COOKIE_SECURE = True\n"
        }
    ]
}